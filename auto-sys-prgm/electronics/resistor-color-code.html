<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Resistor Color Code Calculator | Barrera Calculators</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Rajdhani:wght@500;700&amp;display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="../../assets/css/style.css"/>
</head>
<body class="theme-electronics">
  <header class="site-header">
    <div class="container">
      <p class="site-header__brand">Barrera Calculators</p>
      <p class="site-header__tagline">Circuit Intelligence for <span>Automation Teams</span></p>
    </div>
  </header>

  <nav class="site-nav">
    <ul class="site-nav__list">
      <li><a class="site-nav__link" href="../../index.html">Home</a></li>
      <li><a class="site-nav__link" href="../../innovation-design/index.html">Science of Innovation &amp; Design</a></li>
      <li><a class="site-nav__link" href="../../architecture-engineering/index.html">Science of Architecture &amp; Engineering</a></li>
      <li><a class="site-nav__link is-active" href="../index.html">Engineering &amp; Auto Systems Programming</a></li>
      <li><a class="site-nav__link" href="../../misc./index.html">Misc.</a></li>
    </ul>
  </nav>

  <main>
    <section class="section">
      <div class="container">
        <div class="breadcrumb">
        <a href="../../index.html">Home</a> &gt;
            <a href="../index.html">Engineering &amp; Auto Systems Programming</a> &gt;
            <a href="index.html">Electronics</a> &gt;
            Resistor Color Code Calculator
          </div>
        <div class="calculator-shell">
          <header class="module-header">
          <h1>Resistor Color Code Calculator</h1>
          <p class="subtitle">Select band colors to decode resistance, tolerance, and (for six-band) temperature coefficient.</p>
          </header>
          <div class="instructions">
          Choose the number of bands, pick each color, and press calculate. The visual updates automatically while the output panel summarizes nominal resistance, tolerance range, and optional temperature coefficient.
          </div>
          <div class="calculator">
          <div class="input-section">
          <h3>Band Configuration</h3>
          <div class="calculation-type resistor-band-picker" id="bandTypeGroup">
          <input checked="" id="b4" name="bandtype" type="radio" value="4"/>
          <label for="b4">4-Band</label>
          <input id="b5" name="bandtype" type="radio" value="5"/>
          <label for="b5">5-Band</label>
          <input id="b6" name="bandtype" type="radio" value="6"/>
          <label for="b6">6-Band</label>
          </div>
          </div>
          <div class="input-section">
          <h3>Band Colors</h3>
          <div class="resistor-selectors" id="selectors"></div>
          </div>
          <div class="input-section">
          <h3>Visual Check</h3>
          <canvas class="resistor-canvas" height="140" id="resCanvas" width="760"></canvas>
          <div class="button-group">
            <button class="btn-primary" id="calcBtn" type="button">Calculate</button>
          </div>
          </div>
          <div class="results" id="result" style="display:none"></div>
          <div class="steps" id="steps" style="display:none"></div>
          <div class="legend" id="legend"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>© Barrera Calculators — Electronics Workspace</p>
  </footer>

  <script>
    // --- Data ---
    const COLORS = {
      black:  { value:0, multiplier:1,      color:"#000000" },
      brown:  { value:1, multiplier:10,     tolerance:1,    tempco:100, color:"#8B4513" },
      red:    { value:2, multiplier:100,    tolerance:2,    tempco:50,  color:"#FF0000" },
      orange: { value:3, multiplier:1e3,    tempco:15,      color:"#FFA500" },
      yellow: { value:4, multiplier:1e4,    tempco:25,      color:"#FFFF00" },
      green:  { value:5, multiplier:1e5,    tolerance:0.5,  color:"#008000" },
      blue:   { value:6, multiplier:1e6,    tolerance:0.25, tempco:10,  color:"#0000FF" },
      violet: { value:7, multiplier:1e7,    tolerance:0.1,  tempco:5,   color:"#8A2BE2" },
      gray:   { value:8, multiplier:1e8,    tolerance:0.05, tempco:1,   color:"#808080" },
      white:  { value:9, multiplier:1e9,    color:"#FFFFFF",  border:"#dfe3ea" },
      gold:   { multiplier:0.1, tolerance:5, color:"#FFD700" },
      silver: { multiplier:0.01, tolerance:10, color:"#C0C0C0" }
    };

    const SIG_COLORS = ["black","brown","red","orange","yellow","green","blue","violet","gray","white"];
    const MULT_COLORS = ["black","brown","red","orange","yellow","green","blue","violet","gray","white","gold","silver"];
    const TOL_COLORS  = ["brown","red","green","blue","violet","gray","gold","silver"];
    const TC_COLORS   = ["brown","red","orange","yellow","blue","violet","gray"];

    // --- Helpers ---
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    function formatOhms(ohms){
      if (ohms === 0) return "0 Ω";
      const abs = Math.abs(ohms);
      if (abs >= 1e9)  return (ohms/1e9).toLocaleString(undefined,{maximumSignificantDigits:3})+" GΩ";
      if (abs >= 1e6)  return (ohms/1e6).toLocaleString(undefined,{maximumSignificantDigits:3})+" MΩ";
      if (abs >= 1e3)  return (ohms/1e3).toLocaleString(undefined,{maximumSignificantDigits:3})+" kΩ";
      return ohms.toLocaleString(undefined,{maximumSignificantDigits:4})+" Ω";
    }

    function makeSelect(id, label, options){
      const wrap = document.createElement("div");
      wrap.className = "resistor-select";
      wrap.innerHTML = `<label for="${id}">${label}</label>`;
      const sel = document.createElement("select");
      sel.id = id;
      options.forEach(name=>{
        const opt = document.createElement("option");
        opt.value = name;
        opt.textContent = name.charAt(0).toUpperCase()+name.slice(1);
        opt.style.backgroundColor = COLORS[name].color;
        if (COLORS[name].border) opt.style.border = "1px solid "+COLORS[name].border;
        sel.appendChild(opt);
      });
      wrap.appendChild(sel);
      return wrap;
    }

    function buildSelectors(bands){
      const container = $("#selectors");
      container.innerHTML = "";
      container.className = bands >= 5 ? "resistor-selectors wide" : "resistor-selectors";
      if (bands === 4){
        container.appendChild(makeSelect("b1","Band 1 (tens)", SIG_COLORS));
        container.appendChild(makeSelect("b2","Band 2 (ones)", SIG_COLORS));
        container.appendChild(makeSelect("mul","Multiplier", MULT_COLORS));
        container.appendChild(makeSelect("tol","Tolerance", TOL_COLORS));
      } else if (bands === 5 || bands === 6){
        container.appendChild(makeSelect("b1","Band 1 (hundreds)", SIG_COLORS));
        container.appendChild(makeSelect("b2","Band 2 (tens)",     SIG_COLORS));
        container.appendChild(makeSelect("b3","Band 3 (ones)",     SIG_COLORS));
        container.appendChild(makeSelect("mul","Multiplier", MULT_COLORS));
        container.appendChild(makeSelect("tol","Tolerance", TOL_COLORS));
        if (bands === 6){
          container.appendChild(makeSelect("tc","Temp. Coeff (ppm/K)", TC_COLORS));
        }
      }
    }

    function drawResistor(bands, values){
      const c = $("#resCanvas"); const ctx = c.getContext("2d");
      ctx.clearRect(0,0,c.width,c.height);

      ctx.strokeStyle="#9aa0a6"; ctx.lineWidth=6;
      ctx.beginPath(); ctx.moveTo(40,70); ctx.lineTo(180,70); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(580,70); ctx.lineTo(720,70); ctx.stroke();

      ctx.fillStyle="#f0de9c";
      ctx.strokeStyle="#bcae7a";
      ctx.lineWidth=2;
      const bx=180, by=35, bw=400, bh=70;
      ctx.fillRect(bx,by,bw,bh);
      ctx.strokeRect(bx,by,bw,bh);

      const slots = {4:[220,300,380,500], 5:[210,270,330,420,510], 6:[200,260,320,410,500,560]}[bands];

      const ids = bands===4? ["b1","b2","mul","tol"]
                 : bands===5? ["b1","b2","b3","mul","tol"]
                 : ["b1","b2","b3","mul","tol","tc"];

      ids.forEach((id, i)=>{
        const name = values[id];
        const col = COLORS[name]?.color || "#000";
        ctx.fillStyle = col;
        ctx.fillRect(slots[i]-6, by, 12, bh);
        ctx.fillStyle = "rgba(255,255,255,.25)";
        ctx.fillRect(slots[i]-6, by, 12, 18);
      });
    }

    function calculate(bands){
      const get = id => $("#"+id)?.value;
      const vals = {};
      if (bands===4){ ["b1","b2","mul","tol"].forEach(k=>vals[k]=get(k)); }
      if (bands===5){ ["b1","b2","b3","mul","tol"].forEach(k=>vals[k]=get(k)); }
      if (bands===6){ ["b1","b2","b3","mul","tol","tc"].forEach(k=>vals[k]=get(k)); }

      let significant = "";
      if (bands===4){ significant = ""+COLORS[vals.b1].value+COLORS[vals.b2].value; }
      else { significant = ""+COLORS[vals.b1].value+COLORS[vals.b2].value+COLORS[vals.b3].value; }

      const multiplier = COLORS[vals.mul].multiplier ?? 1;
      const nominal = parseInt(significant, 10) * multiplier;
      const tolerance = COLORS[vals.tol]?.tolerance ?? 20;
      const tolValue = nominal * (tolerance / 100);
      const min = nominal - tolValue;
      const max = nominal + tolValue;
      const tempco = vals.tc ? COLORS[vals.tc]?.tempco : undefined;

      const resultDiv = $("#result");
      resultDiv.style.display = "block";
      resultDiv.innerHTML = `
        <h2>Decoded Values</h2>
        <div class="result-grid">
          <div class="result-item">
            <div class="result-value">${formatOhms(nominal)}</div>
            <div class="result-label">Nominal Resistance</div>
          </div>
          <div class="result-item">
            <div class="result-value">±${tolerance}%</div>
            <div class="result-label">Tolerance</div>
          </div>
          <div class="result-item">
            <div class="result-value">${formatOhms(min)} – ${formatOhms(max)}</div>
            <div class="result-label">Range</div>
          </div>
          ${tempco ? `<div class="result-item"><div class="result-value">${tempco} ppm/K</div><div class="result-label">Temperature Coefficient</div></div>` : ''}
        </div>`;

      const stepsDiv = $("#steps");
      stepsDiv.style.display = "block";
      stepsDiv.innerHTML = `
        <div class="step">Digits: ${significant}</div>
        <div class="step">Multiplier: × ${COLORS[vals.mul].multiplier ?? 1}</div>
        <div class="step">Tolerance: ±${tolerance}%</div>
        ${tempco ? `<div class="step">Temp. Coefficient: ${tempco} ppm/K</div>` : ''}
      `;

      const legend = $("#legend");
      legend.innerHTML = `
        <strong>Legend</strong>: ${Object.keys(vals).map(key => `${key.toUpperCase()}: ${vals[key]}`).join(" • ")}
      `;

      drawResistor(bands, vals);
    }

    function init(){
      let bands = 4;
      buildSelectors(bands);
      drawResistor(bands, {b1:"brown", b2:"black", mul:"red", tol:"gold"});
      calculate(bands);

      $("#bandTypeGroup").addEventListener("change", e=>{
        if (e.target.name === "bandtype"){
          bands = parseInt(e.target.value, 10);
          buildSelectors(bands);
          calculate(bands);
        }
      });

      $("#calcBtn").addEventListener("click", ()=>calculate(bands));
    }

    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
